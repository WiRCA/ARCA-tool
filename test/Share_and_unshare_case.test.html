#{fixture delete:'all', load:'data.yml' /}
#{selenium}
open('/test-env/')
type('id=username','irmeli@irmeli.irmeli')
type('id=password','irmelinsalasana')
clickAndWait('id=signin')
verifyTextPresent('Tervetuloa irmeli! ')
clickAndWait('id=createRCACase-link')
type('id=caseName','Irmelin testikeissi')
select('id=caseTypeValue','label=Ohjelmisto projekti')
type('id=description','Irmelilla on paha mieli')
type('id=caseGoals','Irmelille tulee hyvä mieli')
type('id=companyName','Irmelin pulla')
select('id=companySize','label=1-10')
type('id=companyProducts','Pullapitkot ja hillomunkin')
clickAndWait('id=create')
open('/test-env/')
verifyTextPresent('Irmelin testikeissi')
verifyTextPresent(' Jaa..')
click('id=rcacase-share-35')
type('id=rcacase-share-dialog-invitedEmail-input','kalevi@kalevi.kalevi')
pause('100')
verifyTextPresent('Kutsu sähköpostilla')
verifyTextPresent('irmeli@irmeli.irmeli')
click('css=input[type="submit"]')
pause('100')
verifyTextPresent('kalevi@kalevi.kalevi')
click('css=span.ui-icon.ui-icon-closethick')
clickAndWait('id=logout-link')
verifyTextPresent('Index page')
type('id=username','irmeli@irmeli.irmeli')
type('id=password','irmelinsalasana')
clickAndWait('id=signin')
verifyTextPresent('Tervetuloa irmeli! ')
verifyTextPresent('Irmelin testikeissi')
verifyTextPresent(' Jaa..')
click('id=rcacase-share-35')
pause('100')
verifyTextPresent('kalevi@kalevi.kalevi')
click('id=remove-user-share')
pause('100')
verifyTextNotPresent('kalevi@kalevi.kalevi')
verifyTextPresent('irmeli@irmeli.irmeli')
click('//button[@type='button']')
verifyTextPresent('Tervetuloa irmeli! ')
verifyTextPresent('Irmelin testikeissi')
click('id=rcacase-share-35')
verifyTextNotPresent('kalevi@kalevi.kalevi')
click('//button[@type='button']')
clickAndWait('id=logout-link')
#{/selenium}